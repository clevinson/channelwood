<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCosJmQ25y_bRrOrPeOTL2j7DQ-3gBQPEs&signed_in=true"></script>
<script src="//w.soundcloud.com/player/api.js"></script>

<!-- begin: mobile redirect -->
<script type='text/javascript'>

  (function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);

  if (jQuery.browser.mobile && location.search != '?m=orig') {
    window.location.replace("https://soundcloud.com/waysinnerpass/sets/pascaal-stils");
  }

</script>
<!-- end: mobile redirect -->

<!-- begin: stylesheets -->
<style>

  /* google map default */
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  #street-view {
    height: 100%;
  }

  /* fonts */
  @font-face {
    font-family: 'clairvauxregular';
    src: url('/fonts/Clairvaux.eot');
    src: url('/fonts/Clairvaux.eot?#iefix') format('embedded-opentype'),
         url('/fonts/Clairvaux.woff') format('woff'),
         url('/fonts/Clairvaux.ttf') format('truetype'),
         url('/fonts/Clairvaux.svg#clairvauxregular') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  /* google map, edits */
  
  a[title*="Click to see this area on Google Maps"] {
    display: none !important;
  }
  
  img[src*='//maps.gstatic.com/mapfiles/'] {
    display: none;
    pointer-events: none;
  }

  .gm-style-cc, .gm-iv-address {
    display: none !important;
  }

  #street-view > div > div {
    background-color: #000 !important; /* bg color of unloaded view */
  }

  #street-view > div > div:nth-of-type(6) {
    display: none;
  }

  .gmnoprint {
    opacity: 0;
  }
  @media only screen and (-webkit-min-device-pixel-ratio: 2) {
    .gmnoprint {
      opacity: 1;
    }
    #street-view > div > div:nth-of-type(7) {
      display: none;
    }
  }

  /* WIP: global stylez */
  * { 
    cursor: crosshair;
  }

  /* body overlay text */
  #overlay {
    position: fixed;
    z-index: 10000;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    pointer-events: none;
    font-size: 120px;
    white-space: nowrap;
    /*padding: 0 0.0833333333em;*/
  }
  #overlay .text {
    font-family: 'clairvauxregular', serif;
    color: #fff;
    line-height: 1;
    pointer-events:none;
    letter-spacing: 10px;
    /**/
    display: inline-block;
  }
  #overlay[class*=sidescroll] .text {
    position: relative;
  }
  #overlay .text{
    /*-webkit-animation: jerkwhole 100s 20s normal;*/
    -webkit-transform:skew(10deg,0);
    position:relative;
  }

  /* fade object */
  #fade {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #fff;
    pointer-events: none;
  }

</style>
<!-- end: stylesheet -->

<!-- begin: body -->
<body>

  <div id="overlay" class="transition-sidescroll">
    <div class="text">
      thank you: matt + cory, my family, my friends, and all the lovelies who jam out every day of the week. we're all together in this. much love.
    </div>
  </div>

  <!-- begin: streetview -->
  <div id="street-view"></div>
  <script>

    // READINESS FLAG
    var ready = false;

    // CUSTOM PLACES
    var shigaraki = {lat: 34.8792073, lng: 136.055617, heading: 128, pitch: 0, zoom: 2};
    var leelanau = {lat: 45.0136288, lng: -85.7625758, heading: 216.29, pitch: 0, zoom: 0.5};
    var lapaz = {lat: 24.1590588, lng: -110.2931095, heading: 277.01, pitch: 0, zoom: 2};
    var nordland = {lat: 66.7551416, lng: 13.2614498, heading: 68.52, pitch: 0, zoom: 1};
    var heidelberg = {lat: 42.3586966, lng: -83.0213713, heading: 246.03, pitch: 0, zoom: 1.5};
    var nepal = {lat: 28.6590729, lng: 84.5838126, heading: 0, pitch: 0, zoom: 2};
    var okinawa = {lat: 26.5999154, lng: 128.0250972, heading: 212.91, pitch: 0, zoom: 2};
    var langkawi = {lat: 6.2768048, lng: 99.7302677, heading: 347.58, pitch: 0, zoom: 0};
    var kyoto = {lat: 35.0221594, lng: 135.7945125, heading: 64.91, pitch: 0, zoom: 1.5};
    var finmark = {lat: 71.169582, lng: 25.7824659, heading: 116.15, pitch: 0, zoom: 2};
    var places = [shigaraki, nordland, leelanau, okinawa, nepal, finmark, heidelberg, lapaz, langkawi, kyoto]; // order is significant

    var firstSongIndex = Math.floor(5*Math.random());
    var firstPlaceIndex = 2*firstSongIndex + Math.round(Math.random());

    // GOOGLE DEFAULT
    var panorama;
    function initializePanorama(placeIndex) {
      panorama = new google.maps.StreetViewPanorama(
          document.getElementById('street-view'),
          {
            position: {lat: places[placeIndex].lat, lng: places[placeIndex].lng},
            pov: {heading: places[placeIndex].heading, pitch: places[placeIndex].pitch},
            zoom: 0.5// places[placeIndex].zoom
          });
      ready = true;
      fade_in();
    }



    function fade_in(){
      $('#fade').delay(2000).fadeOut(8000, function(){
        $(this).remove();
      });
    }


    // VARIABLES
    // ---------

    // global vars & objects
    var $overlay = $('#overlay');
    var $text = $('#overlay .text');

    // define lyric array
    var lyrics = [['time stands still', 'true to life', 'on and on', 'it\'s a shadow of a memory and it always breaks my heart'],
                    ['make u have a state of mind wish call life', 'since i heard i understand', 'so liking the journeyï»¿', 'you again'],
                    ['no more stress, only happiness'],
                    ['ignited the hidden gasoline', 'in my heart and soul', 'a fire that has now spread acres upon acres', 'and there is no end in sight']];

    // FUNCTIONS
    // ---------

    // returns random lyric from array
    function getRandomLyric() {
      var rand = Math.floor(Math.random() * lyrics.length);
      return lyrics[rand];
    }

    // add lyric (splice)
    function spliceLyric() {
      var currLyrics = $text.text();
      var currLyricSplit = currLyrics.split(" ");
      var position = Math.floor(Math.random() * currLyricSplit.length);
      currLyricSplit.splice(position, 0, getRandomLyric());
      var newLyrics = currLyricSplit.join(' ');
      $('#overlay .text').each(function() {
        $(this).text(newLyrics);
      })
    }

    // start with one random lyric
    $text.text(getRandomLyric());


    // SCROLL LOGIC
    // ------------

    // init
    var offsetX, offsetY;
    function initializeText() {
      offsetX = 1.1;
      $text.css('left', $(window).outerWidth()*offsetX);
    }
    initializeText();


    // scroll
    function sideScroll() {
      var speed = 30;
      $text.animate({
        left: '-='+speed
      }, 200, 'linear', function(){
        if ($text.offset().left < -$text.outerWidth()*offsetX) {
          $text.css('left', $(window).outerWidth()*offsetX);
          $text.css('-webkit-transform', 'skew(-40deg,0)');
          $text.css('font-size', '100px');
          spliceLyric();
        }
        sideScroll();
      });
    }
    sideScroll();



    // center vertically
    function centerText() {
      var textHeight = $text.outerHeight();
      var windowHeight = $(window).outerHeight();
      var offsetY = windowHeight/2 - textHeight/2 - textHeight*0.125;
      $text.css('top', offsetY);
    }
    centerText();
    $( window ).resize(function() {
      centerText();
    });

    $(function() {

      widgetFrame = $('iframe')[0];
      widget = SC.Widget(widgetFrame);
      setWidgetToLoop(widget);

      widget.bind(SC.Widget.Events.READY, function(){
        widget.skip(firstSongIndex);
      });

      widget.bind(SC.Widget.Events.PLAY, function() {
        widget.getCurrentSoundIndex(function(idx) {
          placeIndex = 2*idx + Math.round(Math.random());
          initializePanorama(placeIndex);
        })
      })

      widget.bind(SC.Widget.Events.PLAY_PROGRESS, function(track) {
        panorama.setPov({
          pitch: panorama.getPov().pitch,
          heading: panorama.getPov().heading - (500 * Math.pow(track.relativePosition,2))
        });
      })

    });

    function setWidgetToLoop(scWidget){
      scWidget.bind(SC.Widget.Events.FINISH, function(){
        scWidget.isPaused(function(paused){
          if(paused){
            scWidget.skip(0);
          }
        });
      });
    }

// 37 = left, 38 = up, 39 = right, 40 = down
//KEYCODES1! for downloadz!
  var keyCode = [];

  function keyListener(e) {
      var key = e.which;
      keyCode.push(key);
      if (keyCode.length > 4) {
        keyCode.splice(0, 1);
      }
      if (keyCode[0] == 38 && keyCode[1] == 39 && keyCode[2] == 40 && keyCode[3] == 37) {
          window.location.href = 'http://bit.ly/WIP-002_P_S';
      }
  }

  document.addEventListener('keydown', keyListener);



  </script>

  <iframe style="display:none" width="100%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/158913989%3Fsecret_token%3Ds-zzE71&amp;start_track=1&amp;auto_play=false&amp;hide_related=false&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;visual=false"></iframe>
</body>





